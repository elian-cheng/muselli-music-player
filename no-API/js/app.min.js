(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);const t=[{id:"6005060009",artist:"Go A",track:"Shum",poster:"./img/posters/6005060009.jpg",mp3:"./files/audio/6005060009.mp3"},{id:"7709396708",artist:"Kalush Orchestra",track:"Stefania",poster:"./img/posters/7709396708.jpg",mp3:"./files/audio/7709396708.mp3"},{id:"5987614638",artist:"Kalush feat. Skofka",track:"Додому",poster:"./img/posters/5987614638.jpg",mp3:"./files/audio/5987614638.mp3"},{id:"0851929096",artist:"Krutь",track:"Колискова",poster:"./img/posters/0851929096.jpg",mp3:"./files/audio/0851929096.mp3"},{id:"3820960149",artist:"Аліна Паш",track:"Тіні Забутих Предків",poster:"./img/posters/3820960149.jpg",mp3:"./files/audio/3820960149.mp3"},{id:"8081902003",artist:"Leleka",track:"Запізно",poster:"./img/posters/8081902003.jpg",mp3:"./files/audio/8081902003.mp3"},{id:"9430910636",artist:"Kazka",track:"Плакала",poster:"./img/posters/9430910636.jpg",mp3:"./files/audio/9430910636.mp3"},{id:"7521931988",artist:"Jerry Heil",track:"When God Shut The Door",poster:"./img/posters/7521931988.jpg",mp3:"./files/audio/7521931988.mp3"},{id:"6432817901",artist:"Jerry Heil",track:"Мрія",poster:"./img/posters/6432817901.jpg",mp3:"./files/audio/6432817901.mp3"},{id:"8245478183",artist:"Jerry Heil",track:"Козацькому роду нема переводу",poster:"./img/posters/8245478183.jpg",mp3:"./files/audio/8245478183.mp3"},{id:"0807225230",artist:"Vivienne Mort",track:"Сліди маленьких рук",poster:"./img/posters/0807225230.jpg",mp3:"./files/audio/0807225230.mp3"},{id:"7029192878",artist:"Один в каное",track:"У мене немає дому",poster:"./img/posters/7029192878.jpg",mp3:"./files/audio/7029192878.mp3"},{id:"5267233768",artist:"Один в каное",track:"Небо",poster:"./img/posters/5267233768.jpg",mp3:"./files/audio/5267233768.mp3"},{id:"8132573299",artist:"Один в каное",track:"Дерево",poster:"./img/posters/8132573299.jpg",mp3:"./files/audio/8132573299.mp3"},{id:"7572681218",artist:"Wellboy",track:"Ворогів На Ножі",poster:"./img/posters/7572681218.jpg",mp3:"./files/audio/7572681218.mp3"},{id:"1289699523",artist:"Тінь Сонця",track:"Тінь Сонця",poster:"./img/posters/1289699523.jpg",mp3:"./files/audio/1289699523.mp3"},{id:"5173802955",artist:"Тінь Сонця",track:"Козаки",poster:"./img/posters/5173802955.jpg",mp3:"./files/audio/5173802955.mp3"},{id:"2031101209",artist:"Океан Ельзи",track:"Без Бою",poster:"./img/posters/2031101209.jpg",mp3:"./files/audio/2031101209.mp3"},{id:"9736629074",artist:"Океан Ельзи",track:"Така, як ти",poster:"./img/posters/9736629074.jpg",mp3:"./files/audio/9736629074.mp3"},{id:"8458449651",artist:"Друга Ріка",track:"Так мало тут тебе",poster:"./img/posters/8458449651.jpg",mp3:"./files/audio/8458449651.mp3"},{id:"7780715415",artist:"Друга Ріка",track:"П'ю з твоїх долонь",poster:"./img/posters/7780715415.jpg",mp3:"./files/audio/7780715415.mp3"},{id:"9238045504",artist:"Марія Бурмака",track:"Все починається, коли...",poster:"./img/posters/9238045504.jpg",mp3:"./files/audio/9238045504.mp3"},{id:"7435198574",artist:"Марія Бурмака",track:"Не бійся жити",poster:"./img/posters/7435198574.jpg",mp3:"./files/audio/7435198574.mp3"},{id:"4391068272",artist:"ТаРута",track:"Єднайся, народе",poster:"./img/posters/4391068272.jpg",mp3:"./files/audio/4391068272.mp3"},{id:"5301092244",artist:"Руслана",track:"Світанок",poster:"./img/posters/5301092244.jpg",mp3:"./files/audio/5301092244.mp3"},{id:"5698907681",artist:"Shumei",track:"Біля Тополі",poster:"./img/posters/5698907681.jpg",mp3:"./files/audio/5698907681.mp3"},{id:"4157048810",artist:"Крихітка Цахес",track:"Ти щось неймовірне",poster:"./img/posters/4157048810.jpg",mp3:"./files/audio/4157048810.mp3"},{id:"9762913319",artist:"Спів Братів",track:"Maskva",poster:"./img/posters/9762913319.jpg",mp3:"./files/audio/9762913319.mp3"},{id:"1626965584",artist:"Karna",track:"Моя мила",poster:"./img/posters/1626965584.jpg",mp3:"./files/audio/1626965584.mp3"},{id:"3959251175",artist:"Tember Blanche",track:"Вечорниці",poster:"./img/posters/3959251175.jpg",mp3:"./files/audio/3959251175.mp3"}];let a=[];const r=localStorage.getItem("favorite")?JSON.parse(localStorage.getItem("favorite")):[],s=document.querySelector(".catalog__container"),i=document.querySelector(".header__logo"),o=document.querySelector(".header__favorite_btn"),c=document.querySelector(".player"),l=document.getElementsByClassName("track"),p=document.querySelector(".player__controller-pause"),d=document.querySelector(".player__controller-stop"),n=document.querySelector(".player__controller-prev"),m=document.querySelector(".player__controller-next"),u=document.querySelector(".player__controller-like"),g=document.querySelector(".player__icon_mute"),_=document.querySelector(".player__progress-input"),k=document.querySelector(".track-info_title"),v=document.querySelector(".track-info_artist"),f=document.querySelector(".player__time-passed"),y=document.querySelector(".player__time-total"),L=document.querySelector(".player__volume-input"),h=document.querySelector(".search"),S=(document.querySelector(".tracksList-hidden"),new Audio),j=document.createElement("button");j.classList.add("catalog__btn-add"),j.innerHTML='\n    <span>Увидеть все</span>\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n        <path d="M8.59 16.59L13.17 12L8.59 7.41L10 6L16 12L10 18L8.59 16.59Z" />\n    </svg>\n';const w=()=>{const e=document.querySelector(".track_active");S.paused?(S.play(),p.classList.remove("player__icon_play"),e.classList.remove("track_pause")):(S.pause(),p.classList.add("player__icon_play"),e.classList.add("track_pause"))},E=e=>{const s=e.currentTarget;if(s.classList.contains("track_active"))return void w();for(let e=0;e<l.length;e++)l[e].classList.remove("track_active-activeColor");s.classList.add("track_active-activeColor");let i=0;const o=s.dataset.idTrack;-1!==r.indexOf(o)?u.classList.add("player__icon_like_active"):u.classList.remove("player__icon_like_active");const d=t.find(((e,t)=>(i=t,o===e.id)));S.src=d.mp3,k.innerHTML=d.track,v.innerHTML=d.artist,S.play(),p.classList.remove("player__icon_play"),p.classList.add("player__icon_pause"),c.classList.add("player_active"),c.dataset.idTrack=o;const g=0===i?a.length-1:i-1,_=i+1===a.length?0:i+1;u.dataset.idTrack=o,n.dataset.idTrack=a[g].id,m.dataset.idTrack=a[_].id;for(let e=0;e<l.length;e++)o===l[e].dataset.idTrack?l[e].classList.add("track_active"):l[e].classList.remove("track_active")};p.addEventListener("click",w),d.addEventListener("click",(()=>{S.src="",p.classList.add("player__icon_play"),c.classList.remove("player_active"),document.querySelector(".track_active").classList.remove("track_active-activeColor"),document.querySelector(".track_active").classList.remove("track_active")}));const T=({artist:e,track:t,id:a,poster:r})=>{const s=document.createElement("div");return s.style.cursor="pointer",s.classList.add("catalog__tem","track"),c.dataset.idTrack===a&&(s.classList.add("track_active"),S.paused&&s.classList.add("track_pause")),s.dataset.idTrack=a,s.innerHTML=`\n        <div class="track__img-wrap">\n            <img \n                class="track__poster" \n                src="${r}" \n                alt="${e} ${t}"\n                width="180"\n                height="180">\n        </div>\n        <div class="track__info">\n            <p class="track_title">${t}</p>\n            <p class="track_artist">${e}</p>\n        </div>\n    `,s},q=e=>{a=[...e],s.textContent="";const t=e.map(T);s.append(...t),(()=>{for(let e=0;e<l.length;e++)l[e].addEventListener("click",E)})()},A=(e=1)=>{l[0],s.clientHeight>3*l[0].clientHeight?(l[l.length-e].style.display="none",A(e+1)):1!==e&&s.append(j)},C=()=>{const e=S.duration,t=S.currentTime,a=t/e*_.max;_.value=a||0;const r=Math.floor(t/60)||"0",s=Math.floor(t%60)||"0",i=Math.floor(e/60)||"0",o=Math.floor(e%60)||"0";f.textContent=`${r}:${s<10?"0"+s:s}`,y.textContent=`${i}:${o<10?"0"+o:o}`};const b=()=>{j.addEventListener("click",(()=>{[...l].forEach((e=>{e.style.display="",j.remove()}))}));const e=function(e,t){let a=null;return function(...r){a||(a=setTimeout((()=>{e(...r),clearTimeout(a),a=null}),t))}}(C,500);n.addEventListener("click",E),m.addEventListener("click",E),S.addEventListener("timeupdate",e),S.addEventListener("ended",(()=>{m.dispatchEvent(new Event("click",{bubbles:!0}))})),_.addEventListener("change",(()=>{const e=_.value;S.currentTime=e/_.max*S.duration})),o.addEventListener("click",(()=>{const e=t.filter((e=>r.includes(e.id)));q(e),A()})),i.addEventListener("click",(()=>{q(t),A()})),u.addEventListener("click",(()=>{const e=r.indexOf(u.dataset.idTrack);-1===e?(r.push(u.dataset.idTrack),u.classList.add("player__icon_like_active")):(r.splice(e,1),u.classList.remove("player__icon_like_active")),localStorage.setItem("favorite",JSON.stringify(r))})),L.addEventListener("input",(()=>{const e=L.value;S.volume=e/100})),g.addEventListener("click",(()=>{S.volume?(localStorage.setItem("volume",S.volume),S.volume=0,L.value=0,g.classList.add("player__icon_mute-off")):(g.classList.remove("player__icon_mute-off"),S.volume=localStorage.getItem("volume"),L.value=100*S.volume)})),h.addEventListener("submit",(e=>{e.preventDefault();const t=h.search.value.toLowerCase(),r=a.filter((({artist:e,track:a})=>e.toLowerCase().includes(t)||a.toLowerCase().includes(t)));q(r)}))};(async()=>{S.volume=localStorage.getItem("volume")||1,L.value=100*S.volume,q(t),b(),A()})(),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();